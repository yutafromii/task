# アプリケーション名
spring.application.name=demo

# Actuator全開放（開発中のみ推奨）
management.endpoints.web.exposure.include=*

# データベース接続設定（PostgreSQL）
spring.datasource.url=jdbc:postgresql://localhost:5432/ec_app
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA（Hibernate）設定
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# エンコーディング
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# Render の Docker でも動くように環境変数 PORT を尊重
server.port=${PORT:8080}

# Spring Security の詳細ログ
logging.level.org.springframework.security=INFO
logging.level.org.springframework.web=INFO
logging.level.com.example=INFO

# Reduce N+1 by batching lazy collections
spring.jpa.properties.hibernate.default_batch_fetch_size=64
spring.jpa.properties.hibernate.jdbc.batch_size=50

# Enable HTTP response compression for large JSON
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain
server.compression.min-response-size=1024

# H2 DB を使用する場合はコメントアウト
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2-console


# 秘密鍵
jwt.secret=your-very-long-secret-key-your-very-long-secret-key
